<!DOCTYPE html>
<html lang="cs">
<head>
Â  Â  <meta charset="UTF-8">
Â  Â  <meta name="viewport" content="width=device-width, initial-scale=1.0">
Â  Â  <title>SprÃ¡vce literÃ¡rnÃ­ch rozborÅ¯</title>
Â  Â  <script src="https://cdn.tailwindcss.com"></script>
Â  Â  <script>
Â  Â  Â  Â  tailwind.config = { darkMode: 'class' };
Â  Â  Â  Â  // Prevent FOUC â€“ apply dark class before paint
Â  Â  Â  Â  (function() {
Â  Â  Â  Â  Â  Â  const saved = localStorage.getItem('theme');
Â  Â  Â  Â  Â  Â  if (saved === 'dark' || (!saved && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
Â  Â  Â  Â  Â  Â  Â  Â  document.documentElement.classList.add('dark');
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  })();
Â  Â  </script>
Â  Â  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
Â  Â  <style>
Â  Â  Â  Â  body { font-family: 'Inter', sans-serif; }

Â  Â  Â  Â  /* Scrollbar â€“ light */
Â  Â  Â  Â  textarea::-webkit-scrollbar, .max-h-\[40vh\]::-webkit-scrollbar { width: 8px; }
Â  Â  Â  Â  textarea::-webkit-scrollbar-track, .max-h-\[40vh\]::-webkit-scrollbar-track { background: #f1f1f1; }
Â  Â  Â  Â  textarea::-webkit-scrollbar-thumb, .max-h-\[40vh\]::-webkit-scrollbar-thumb { background: #c1c1c1; border-radius: 4px; }
Â  Â  Â  Â  textarea::-webkit-scrollbar-thumb:hover, .max-h-\[40vh\]::-webkit-scrollbar-thumb:hover { background: #a8a8a8; }

Â  Â  Â  Â  /* Scrollbar â€“ dark */
Â  Â  Â  Â  .dark textarea::-webkit-scrollbar-track, .dark .max-h-\[40vh\]::-webkit-scrollbar-track { background: #1e293b; }
Â  Â  Â  Â  .dark textarea::-webkit-scrollbar-thumb, .dark .max-h-\[40vh\]::-webkit-scrollbar-thumb { background: #475569; }
Â  Â  Â  Â  .dark textarea::-webkit-scrollbar-thumb:hover, .dark .max-h-\[40vh\]::-webkit-scrollbar-thumb:hover { background: #64748b; }

Â  Â  Â  Â  /* Active sidebar item */
Â  Â  Â  Â  .item-active {
Â  Â  Â  Â  Â  Â  background-color: #eff6ff !important;
Â  Â  Â  Â  Â  Â  border-left: 4px solid #2563eb !important;
Â  Â  Â  Â  }
Â  Â  Â  Â  .dark .item-active {
Â  Â  Â  Â  Â  Â  background-color: #1e3a5f !important;
Â  Â  Â  Â  Â  Â  border-left: 4px solid #3b82f6 !important;
Â  Â  Â  Â  }
Â  Â  Â  Â  .list-item { border-left: 4px solid transparent; }

Â  Â  Â  Â  /* Disabled */
Â  Â  Â  Â  button:disabled { opacity: 0.5; cursor: not-allowed; transform: none !important; box-shadow: none !important; }

Â  Â  Â  Â  /* Toggle switch */
Â  Â  Â  Â  .theme-toggle {
Â  Â  Â  Â  Â  Â  position: relative;
Â  Â  Â  Â  Â  Â  width: 56px; height: 28px;
Â  Â  Â  Â  Â  Â  background: #cbd5e1;
Â  Â  Â  Â  Â  Â  border-radius: 9999px;
Â  Â  Â  Â  Â  Â  cursor: pointer;
Â  Â  Â  Â  Â  Â  transition: background 0.3s;
Â  Â  Â  Â  Â  Â  border: none; outline: none;
Â  Â  Â  Â  }
Â  Â  Â  Â  .dark .theme-toggle { background: #475569; }
Â  Â  Â  Â  .theme-toggle::after {
Â  Â  Â  Â  Â  Â  content: 'â˜€ï¸';
Â  Â  Â  Â  Â  Â  position: absolute;
Â  Â  Â  Â  Â  Â  top: 2px; left: 2px;
Â  Â  Â  Â  Â  Â  width: 24px; height: 24px;
Â  Â  Â  Â  Â  Â  background: white;
Â  Â  Â  Â  Â  Â  border-radius: 9999px;
Â  Â  Â  Â  Â  Â  transition: transform 0.3s, background 0.3s;
Â  Â  Â  Â  Â  Â  display: flex; align-items: center; justify-content: center;
Â  Â  Â  Â  Â  Â  font-size: 14px;
Â  Â  Â  Â  Â  Â  box-shadow: 0 1px 3px rgba(0,0,0,0.2);
Â  Â  Â  Â  }
Â  Â  Â  Â  .dark .theme-toggle::after {
Â  Â  Â  Â  Â  Â  content: 'ğŸŒ™';
Â  Â  Â  Â  Â  Â  transform: translateX(28px);
Â  Â  Â  Â  Â  Â  background: #1e293b;
Â  Â  Â  Â  }
Â  Â  </style>
</head>
<body class="bg-slate-50 dark:bg-slate-900 text-slate-800 dark:text-slate-200 transition-colors duration-300">

Â  Â  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
Â  Â  Â  Â  <header class="flex flex-wrap justify-between items-center mb-8 border-b border-slate-200 dark:border-slate-700 pb-4 gap-4">
Â  Â  Â  Â  Â  Â  <div>
Â  Â  Â  Â  Â  Â  Â  Â  <h1 class="text-3xl font-bold text-slate-900 dark:text-white tracking-tight">ğŸ“š SprÃ¡vce literÃ¡rnÃ­ch rozborÅ¯</h1>
Â  Â  Â  Â  Â  Â  Â  Â  <p class="text-sm text-slate-500 dark:text-slate-400 mt-1">TvÅ¯j profesionÃ¡lnÃ­ pomocnÃ­Äek s rozbory</p>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  <div class="flex items-center gap-4">
Â  Â  Â  Â  Â  Â  Â  Â  <!-- DARK MODE TOGGLE -->
Â  Â  Â  Â  Â  Â  Â  Â  <button id="theme-toggle" class="theme-toggle" title="PÅ™epnout svÄ›tlÃ½/tmavÃ½ reÅ¾im" aria-label="PÅ™epnout tmavÃ½ reÅ¾im"></button>
Â  Â  Â  Â  Â  Â  Â  Â  <a href="https://github.com/SimonPoky/Literarni-rozbory" target="_blank" class="text-sm font-medium text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 transition-colors flex items-center gap-2">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <svg height="20" width="20" viewBox="0 0 16 16" fill="currentColor"><path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"></path></svg>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  SimonPoky/Literarni-rozbory
Â  Â  Â  Â  Â  Â  Â  Â  </a>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  </header>

Â  Â  Â  Â  <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">

Â  Â  Â  Â  Â  Â  <div class="lg:col-span-2 space-y-6">
Â  Â  Â  Â  Â  Â  Â  Â  <form id="analysis-form" class="space-y-8">
Â  Â  <input type="hidden" name="id" id="entry-id">

Â  Â  <div class="bg-white dark:bg-slate-800 p-6 rounded-xl shadow-sm border border-slate-100 dark:border-slate-700">
Â  Â  Â  Â  <h2 class="text-lg font-semibold text-slate-700 dark:text-slate-200 mb-4 border-b dark:border-slate-600 pb-2">Identifikace dÃ­la</h2>
Â  Â  Â  Â  <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
Â  Â  Â  Â  Â  Â  <div class="col-span-2 md:col-span-1">
Â  Â  Â  Â  Â  Â  Â  Â  <label class="block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1">NÃ¡zev dÃ­la</label>
Â  Â  Â  Â  Â  Â  Â  Â  <textarea name="title" required rows="1" class="w-full rounded-md border-gray-300 dark:border-slate-600 dark:bg-slate-700 dark:text-slate-100 shadow-sm focus:border-blue-500 focus:ring-blue-500 border p-2 resize-y"></textarea>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  <div class="col-span-2 md:col-span-1">
Â  Â  Â  Â  Â  Â  Â  Â  <label class="block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1">Autor</label>
Â  Â  Â  Â  Â  Â  Â  Â  <textarea name="author" required rows="1" class="w-full rounded-md border-gray-300 dark:border-slate-600 dark:bg-slate-700 dark:text-slate-100 shadow-sm focus:border-blue-500 focus:ring-blue-500 border p-2 resize-y"></textarea>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  </div>
Â  Â  </div>

Â  Â  <div class="bg-white dark:bg-slate-800 p-6 rounded-xl shadow-sm border border-slate-100 dark:border-slate-700">
Â  Â  Â  Â  <h2 class="text-xl font-bold text-slate-800 dark:text-slate-100 mb-6 border-b dark:border-slate-600 pb-2 uppercase tracking-wide">I. Text a jeho sloÅ¾ky â€“ ÄŒeho si vÅ¡Ã­mat</h2>

Â  Â  Â  Â  <div class="mb-6">
Â  Â  Â  Â  Â  Â  <label class="block text-sm font-bold text-blue-800 dark:text-blue-400 mb-1">LiterÃ¡rnÃ­ druh a Å¾Ã¡nr</label>
Â  Â  Â  Â  Â  Â  <textarea name="kind_genre" rows="1" class="w-full rounded-md border-gray-300 dark:border-slate-600 dark:bg-slate-700 dark:text-slate-100 shadow-sm border p-2 resize-y" placeholder="lyrika, prÃ³za, balada, romÃ¡n, povÃ­dka apod."></textarea>
Â  Â  Â  Â  </div>

Â  Â  Â  Â  <div class="mb-6">
Â  Â  Â  Â  Â  Â  <label class="block text-sm font-bold text-blue-800 dark:text-blue-400 mb-1">Kontext</label>
Â  Â  Â  Â  Â  Â  <textarea name="context" rows="5" class="w-full rounded-md border-gray-300 dark:border-slate-600 dark:bg-slate-700 dark:text-slate-100 shadow-sm border p-2" placeholder="autor, recepce dÃ­la, literÃ¡rnÃ­ obdobÃ­, literÃ¡rnÃ­ smÄ›r apod."></textarea>
Â  Â  Â  Â  </div>

Â  Â  Â  Â  <div class="mb-6 border-l-4 border-blue-100 dark:border-blue-800 pl-4 py-1">
Â  Â  Â  Â  Â  Â  <h3 class="text-lg font-bold text-slate-700 dark:text-slate-200 mb-3">Obsah</h3>

Â  Â  Â  Â  Â  Â  <div class="mb-4">
Â  Â  Â  Â  Â  Â  Â  Â  <label class="block text-sm font-semibold text-slate-700 dark:text-slate-300 mb-1">TÃ©ma</label>
Â  Â  Â  Â  Â  Â  Â  Â  <textarea name="theme" rows="1" class="w-full rounded-md border-gray-300 dark:border-slate-600 dark:bg-slate-700 dark:text-slate-100 shadow-sm border p-2 resize-y" placeholder="hlavnÃ­, vedlejÅ¡Ã­ apod."></textarea>
Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  <div class="space-y-4">
Â  Â  Â  Â  Â  Â  Â  Â  <h4 class="text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wide border-b border-slate-200 dark:border-slate-600 pb-1">VÄ›cnÃ½ obsah</h4>
Â  Â  Â  Â  Â  Â  Â  Â  <div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <label class="block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1">Postavy</label>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <textarea name="characters" rows="2" class="w-full rounded-md border-gray-300 dark:border-slate-600 dark:bg-slate-700 dark:text-slate-100 shadow-sm border p-2" placeholder="hlavnÃ­/vedlejÅ¡Ã­; popis, charakteristika, vÃ½voj, vztahy..."></textarea>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  <div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <label class="block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1">VypravÄ›Ä / LyrickÃ½ subjekt</label>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <textarea name="narrator" rows="1" class="w-full rounded-md border-gray-300 dark:border-slate-600 dark:bg-slate-700 dark:text-slate-100 shadow-sm border p-2 resize-y" placeholder="ich-forma, vÅ¡evÄ›doucÃ­, vztah ke ÄtenÃ¡Å™i..."></textarea>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  <div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <label class="block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1">ÄŒasoprostor</label>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <textarea name="setting" rows="1" class="w-full rounded-md border-gray-300 dark:border-slate-600 dark:bg-slate-700 dark:text-slate-100 shadow-sm border p-2 resize-y" placeholder="Äas a prostÅ™edÃ­ (mÃ­stnÃ­, sociÃ¡lnÃ­)"></textarea>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  <div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <label class="block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1">DÄ›j / DÄ›nÃ­</label>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <textarea name="plot" rows="3" class="w-full rounded-md border-gray-300 dark:border-slate-600 dark:bg-slate-700 dark:text-slate-100 shadow-sm border p-2" placeholder="pÅ™evyprÃ¡vÄ›nÃ­, motivy, udÃ¡losti, zÃ¡pletka, rozuzlenÃ­..."></textarea>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  <div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <label class="block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1">MyÅ¡lenkovÃ½ a emoÄnÃ­ obsah</label>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <textarea name="thought_content" rows="2" class="w-full rounded-md border-gray-300 dark:border-slate-600 dark:bg-slate-700 dark:text-slate-100 shadow-sm border p-2" placeholder="vidÄ›nÃ­ svÄ›ta, ponauÄenÃ­, smysl, celkovÃ© pÅ¯sobenÃ­..."></textarea>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  </div>

Â  Â  Â  Â  <div class="mb-2 border-l-4 border-blue-100 dark:border-blue-800 pl-4 py-1">
Â  Â  Â  Â  Â  Â  <h3 class="text-lg font-bold text-slate-700 dark:text-slate-200 mb-3">Forma</h3>

Â  Â  Â  Â  Â  Â  <div class="space-y-4 mb-6">
Â  Â  Â  Â  Â  Â  Â  Â  <h4 class="text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wide border-b border-slate-200 dark:border-slate-600 pb-1">Kompozice</h4>
Â  Â  Â  Â  Â  Â  Â  Â  <div class="space-y-4">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <label class="block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1">ÄŒlenÄ›nÃ­ textu</label>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <textarea name="composition_structure" rows="1" class="w-full rounded-md border-gray-300 dark:border-slate-600 dark:bg-slate-700 dark:text-slate-100 shadow-sm border p-2 resize-y" placeholder="kapitoly, strofy, dÄ›jstvÃ­..."></textarea>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <label class="block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1">SlohovÃ© postupy</label>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <textarea name="style_procedures" rows="1" class="w-full rounded-md border-gray-300 dark:border-slate-600 dark:bg-slate-700 dark:text-slate-100 shadow-sm border p-2 resize-y" placeholder="vyprÃ¡vÄ›nÃ­, popis, charakteristika, Ãºvaha; kombinace..."></textarea>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <label class="block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1">KompoziÄnÃ­ postupy</label>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <textarea name="composition_procedures" rows="1" class="w-full rounded-md border-gray-300 dark:border-slate-600 dark:bg-slate-700 dark:text-slate-100 shadow-sm border p-2 resize-y" placeholder="chronologickÃ½, retrospektivnÃ­..."></textarea>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <label class="block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1">KompoziÄnÃ­ principy</label>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <textarea name="composition_principles" rows="1" class="w-full rounded-md border-gray-300 dark:border-slate-600 dark:bg-slate-700 dark:text-slate-100 shadow-sm border p-2 resize-y" placeholder="opakovÃ¡nÃ­, kontrast..."></textarea>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  <div class="space-y-4">
Â  Â  Â  Â  Â  Â  Â  Â  <h4 class="text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wide border-b border-slate-200 dark:border-slate-600 pb-1">VÃ½razovÃ© prostÅ™edky</h4>
Â  Â  Â  Â  Â  Â  Â  Â  <div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <label class="block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1">NeverbÃ¡lnÃ­</label>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <textarea name="nonverbal" rows="1" class="w-full rounded-md border-gray-300 dark:border-slate-600 dark:bg-slate-700 dark:text-slate-100 shadow-sm border p-2 resize-y" placeholder="ilustrace, grafickÃ¡ Ãºprava textu..."></textarea>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  <div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <label class="block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1">VerbÃ¡lnÃ­</label>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <textarea name="verbal" rows="4" class="w-full rounded-md border-gray-300 dark:border-slate-600 dark:bg-slate-700 dark:text-slate-100 shadow-sm border p-2 resize-y" placeholder="spisovnost, archaismy/neologismy, citovÃ© zabarvenÃ­, funkÄnÄ›stylovÃ¡ pÅ™Ã­sluÅ¡nost, pÅ¯vod, syntax, figury, tropy..."></textarea>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  </div>
Â  Â  </div>

Â  Â  <div class="bg-white dark:bg-slate-800 p-6 rounded-xl shadow-sm border border-slate-100 dark:border-slate-700">
Â  Â  Â  Â  <h2 class="text-xl font-bold text-slate-800 dark:text-slate-100 mb-6 border-b dark:border-slate-600 pb-2 uppercase tracking-wide">II. KomentÃ¡Å™ â€“ Jak o textu pÅ™emÃ½Å¡let</h2>

Â  Â  Â  Â  <div class="space-y-6">
Â  Â  Â  Â  Â  Â  <div class="bg-blue-50 dark:bg-blue-950/40 p-4 rounded-lg border border-blue-100 dark:border-blue-800">
Â  Â  Â  Â  Â  Â  Â  Â  <label class="block text-sm font-bold text-blue-800 dark:text-blue-400 mb-1">VÃ½klad (PROÄŒ a SMYSL)</label>
Â  Â  Â  Â  Â  Â  Â  Â  <p class="text-xs text-slate-600 dark:text-slate-400 mb-2 leading-relaxed">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Nejen CO tam je, ale PROÄŒ. Smysl/vÃ½znam.<br>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <i>NapÅ™: ProÄ zvolil tento Å¾Ã¡nr? Motivace postav? Smysl postavy v textu? Smysl Äasu/prostoru? ProÄ tÃ©ma pojal takto? Smysl kompozice? Co je dominantnÃ­ a proÄ?</i>
Â  Â  Â  Â  Â  Â  Â  Â  </p>
Â  Â  Â  Â  Â  Â  Â  Â  <textarea name="interpretation" rows="6" class="w-full rounded-md border-gray-300 dark:border-slate-600 dark:bg-slate-700 dark:text-slate-100 shadow-sm border p-2 focus:ring-2 focus:ring-blue-500"></textarea>
Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  <div>
Â  Â  Â  Â  Â  Â  Â  Â  <label class="block text-sm font-bold text-blue-800 dark:text-blue-400 mb-1">HodnocenÃ­</label>
Â  Â  Â  Â  Â  Â  Â  Â  <p class="text-xs text-slate-500 dark:text-slate-400 mb-2">PosouzenÃ­ kladÅ¯ a zÃ¡porÅ¯ textu a jeho sloÅ¾ek.</p>
Â  Â  Â  Â  Â  Â  Â  Â  <textarea name="evaluation" rows="2" class="w-full rounded-md border-gray-300 dark:border-slate-600 dark:bg-slate-700 dark:text-slate-100 shadow-sm border p-2"></textarea>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  </div>
Â  Â  </div>

Â  Â  <div class="flex gap-4 pt-4">
Â  Â  Â  Â  <button type="submit" class="flex-1 bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-6 rounded-lg shadow transition-all transform active:scale-[0.98]">
Â  Â  Â  Â  Â  Â  ğŸ’¾ UloÅ¾it Rozbor
Â  Â  Â  Â  </button>
Â  Â  Â  Â  <button type="button" id="btn-reset" class="px-6 py-3 bg-slate-200 dark:bg-slate-700 hover:bg-slate-300 dark:hover:bg-slate-600 text-slate-700 dark:text-slate-200 font-medium rounded-lg transition-colors">
Â  Â  Â  Â  Â  Â  NovÃ½
Â  Â  Â  Â  </button>
Â  Â  </div>
</form>
Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  <!-- SIDEBAR -->
Â  Â  Â  Â  Â  Â  <div class="lg:col-span-1">
Â  Â  Â  Â  Â  Â  Â  Â  <div class="sticky top-8 space-y-6">

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="bg-white dark:bg-slate-800 p-4 rounded-xl shadow-sm border border-slate-100 dark:border-slate-700">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <button type="button" id="btn-save-sidebar" class="w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-6 rounded-lg shadow transition-all transform active:scale-[0.98] flex items-center justify-center gap-2">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ğŸ’¾ RychlÃ© uloÅ¾enÃ­
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-100 dark:border-slate-700 overflow-hidden">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="p-4 border-b border-slate-100 dark:border-slate-700 bg-slate-50 dark:bg-slate-800/80 flex justify-between items-center">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h3 class="font-semibold text-slate-800 dark:text-slate-200">UloÅ¾eno (<span id="count">0</span>)</h3>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button id="btn-nuke" class="text-xs text-red-500 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300 font-medium">Smazat vÅ¡e</button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div id="list-container" class="max-h-[40vh] overflow-y-auto divide-y divide-slate-100 dark:divide-slate-700">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <!-- BACKUP Section -->
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="bg-slate-50 dark:bg-slate-800/60 rounded-xl border border-slate-200 dark:border-slate-700 p-6">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h3 class="font-bold text-lg mb-2 text-slate-700 dark:text-slate-200">Data & ZÃ¡loha</h3>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p class="text-slate-500 dark:text-slate-400 text-sm mb-4">Prevence proti ztrÃ¡tÄ› dat. StÃ¡hni si JSON a mÄ›j klid.</p>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="flex gap-2">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button id="btn-backup" class="flex-1 bg-slate-600 hover:bg-slate-700 text-white font-medium py-2 px-3 rounded text-sm transition-colors">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  â¬‡ï¸ Export
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button onclick="document.getElementById('import-file').click()" class="flex-1 bg-slate-200 dark:bg-slate-700 hover:bg-slate-300 dark:hover:bg-slate-600 text-slate-700 dark:text-slate-200 font-medium py-2 px-3 rounded text-sm transition-colors">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  â¬†ï¸ Import
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <input type="file" id="import-file" class="hidden" accept=".json">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="bg-slate-50 dark:bg-slate-800/60 rounded-xl border border-slate-200 dark:border-slate-700 p-6">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h3 class="font-bold text-lg mb-2 text-slate-700 dark:text-slate-200">Export PDF</h3>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p class="text-slate-500 dark:text-slate-400 text-sm mb-4">Vygeneruje kompletnÃ­ sbornÃ­k pro XeLaTeX pÅ™esnÄ› dle Å¡kolnÃ­ struktury.</p>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button id="btn-generate" class="w-full bg-emerald-500 hover:bg-emerald-600 text-white font-bold py-3 px-4 rounded-lg shadow transition-colors flex items-center justify-center gap-2">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span>âš¡ Generovat LaTeX</span>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  </div>
Â  Â  </div>

Â  Â  <!-- LATEX MODAL -->
Â  Â  <div id="modal" class="fixed inset-0 bg-black/50 backdrop-blur-sm hidden items-center justify-center z-50">
Â  Â  Â  Â  <div class="bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-11/12 max-w-4xl flex flex-col max-h-[90vh] overflow-hidden">

Â  Â  Â  Â  Â  Â  <div class="p-4 border-b dark:border-slate-700 flex justify-between items-center bg-white dark:bg-slate-800 z-10">
Â  Â  Â  Â  Â  Â  Â  Â  <h3 class="font-bold text-lg text-slate-800 dark:text-slate-100 flex items-center gap-2">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ğŸ“„ LaTeX VÃ½stup
Â  Â  Â  Â  Â  Â  Â  Â  </h3>
Â  Â  Â  Â  Â  Â  Â  Â  <button id="btn-close-modal" class="text-slate-400 hover:text-red-500 dark:text-slate-500 dark:hover:text-red-400 text-2xl leading-none transition-colors">&times;</button>
Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  <!-- WARNING BAR -->
Â  Â  Â  Â  Â  Â  <div class="bg-red-50 dark:bg-red-950/50 border-l-8 border-red-600 p-4">
Â  Â  Â  Â  Â  Â  Â  Â  <div class="flex items-start">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="flex-shrink-0">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span class="text-red-600 text-2xl animate-pulse">âš ï¸</span>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="ml-3">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p class="text-sm font-bold text-red-900 dark:text-red-300 uppercase tracking-wide">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  FatÃ¡lnÃ­ chyba nastavenÃ­ Overleafu
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </p>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p class="text-sm text-red-800 dark:text-red-400 mt-1">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Tento kÃ³d <strong>NEBUDE FUNGOVAT</strong>, pokud ruÄnÄ› nezmÄ›nÃ­te kompilÃ¡tor na <span class="bg-red-200 dark:bg-red-800 px-1 rounded font-black">XeLaTeX</span>. VÃ½chozÃ­ pdfLaTeX neumÃ­ ÄeskÃ© fonty.
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </p>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p class="text-xs text-red-600 dark:text-red-500 mt-2">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Menu (vlevo nahoÅ™e) &rarr; Compiler &rarr; XeLaTeX
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </p>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  <div class="flex-1 p-0 relative min-h-0">
Â  Â  Â  Â  Â  Â  Â  Â  <textarea id="output-code" class="w-full h-full p-4 font-mono text-xs bg-slate-50 dark:bg-slate-900 dark:text-slate-300 resize-none focus:outline-none text-slate-700" readonly></textarea>
Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  <!-- GATEKEEPER FOOTER -->
Â  Â  Â  Â  Â  Â  <div class="p-4 border-t dark:border-slate-700 bg-white dark:bg-slate-800 z-10 shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.05)]">

Â  Â  Â  Â  Â  Â  Â  Â  <label class="mb-4 flex items-center justify-end gap-2 bg-red-50 dark:bg-red-950/40 p-3 rounded border border-red-100 dark:border-red-800 hover:bg-red-100 dark:hover:bg-red-950/60 transition-colors cursor-pointer select-none">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <input type="checkbox" id="acknowledge-check" class="w-5 h-5 text-red-600 rounded border-gray-300 dark:border-slate-600 focus:ring-red-500 cursor-pointer">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span class="ml-2 block text-sm font-bold text-red-900 dark:text-red-300">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  RozumÃ­m, Å¾e musÃ­m v Overleafu pÅ™epnout na XeLaTeX, jinak to bouchne.
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>
Â  Â  Â  Â  Â  Â  Â  Â  </label>

Â  Â  Â  Â  Â  Â  Â  Â  <div class="flex flex-col sm:flex-row justify-end gap-3">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button id="btn-copy" disabled class="px-4 py-2.5 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 text-slate-700 dark:text-slate-200 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-600 transition-all text-sm font-medium shadow-sm disabled:opacity-50 disabled:cursor-not-allowed">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ğŸ“‹ Pouze zkopÃ­rovat
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button id="btn-overleaf" disabled class="px-4 py-2.5 bg-green-700 hover:bg-green-800 text-white rounded-lg shadow-md hover:shadow-lg transition-all text-sm font-bold flex items-center justify-center gap-2 group disabled:bg-slate-400 dark:disabled:bg-slate-600 disabled:shadow-none disabled:cursor-not-allowed">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span>ZkopÃ­rovat & OtevÅ™Ã­t Overleaf</span>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <svg class="w-4 h-4 group-hover:translate-x-1 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"></path></svg>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </button>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  </div>
Â  Â  </div>

Â  Â  <!-- IMPORT MODAL -->
Â  Â  <div id="import-modal" class="fixed inset-0 bg-black/60 backdrop-blur-sm hidden items-center justify-center z-50">
Â  Â  Â  Â  <div class="bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-96 max-w-full overflow-hidden transform transition-all scale-100">
Â  Â  Â  Â  Â  Â  <div class="p-6 text-center">
Â  Â  Â  Â  Â  Â  Â  Â  <div class="mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-blue-100 dark:bg-blue-900/50 mb-4">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <svg class="h-6 w-6 text-blue-600 dark:text-blue-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"></path></svg>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  <h3 class="text-lg leading-6 font-medium text-gray-900 dark:text-slate-100" id="import-title">Nalezeno dat: <span id="import-count">0</span></h3>
Â  Â  Â  Â  Â  Â  Â  Â  <div class="mt-2">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p class="text-sm text-gray-500 dark:text-slate-400">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Jak chceÅ¡ s novÃ½mi daty naloÅ¾it?
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </p>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  <div class="bg-gray-50 dark:bg-slate-800/80 px-4 py-3 sm:px-6 sm:flex sm:flex-col sm:gap-3">
Â  Â  Â  Â  Â  Â  Â  Â  <button id="btn-import-merge" class="w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:text-sm">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  SlouÄit (BezpeÄnÃ©)
Â  Â  Â  Â  Â  Â  Â  Â  </button>
Â  Â  Â  Â  Â  Â  Â  Â  <p class="text-xs text-center text-gray-400 dark:text-slate-500">ZachovÃ¡ existujÃ­cÃ­, pÅ™idÃ¡ novÃ©.</p>

Â  Â  Â  Â  Â  Â  Â  Â  <button id="btn-import-overwrite" class="mt-3 w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:text-sm sm:mt-0">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  PÅ™epsat vÅ¡e (Smazat starÃ©)
Â  Â  Â  Â  Â  Â  Â  Â  </button>
Â  Â  Â  Â  Â  Â  Â  Â  <p class="text-xs text-center text-gray-400 dark:text-slate-500">SmaÅ¾e aktuÃ¡lnÃ­ data a nahradÃ­ je.</p>

Â  Â  Â  Â  Â  Â  Â  Â  <button id="btn-import-cancel" class="mt-4 w-full inline-flex justify-center rounded-md border border-gray-300 dark:border-slate-600 shadow-sm px-4 py-2 bg-white dark:bg-slate-700 text-base font-medium text-gray-700 dark:text-slate-200 hover:bg-gray-50 dark:hover:bg-slate-600 focus:outline-none sm:text-sm">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ZruÅ¡it
Â  Â  Â  Â  Â  Â  Â  Â  </button>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  </div>
Â  Â  </div>

<script>
document.addEventListener('DOMContentLoaded', () => {
Â  Â  // Auto-resize logic
Â  Â  const autoResize = (el) => {
Â  Â  Â  Â  el.style.height = 'auto';
Â  Â  Â  Â  el.style.height = el.scrollHeight + 'px';
Â  Â  };

Â  Â  // Apply to all form textareas
Â  Â  document.querySelectorAll('#analysis-form textarea').forEach(ta => {
Â  Â  Â  Â  ta.style.overflow = 'hidden';
Â  Â  Â  Â  ta.style.resize = 'none';
Â  Â  Â  Â  ta.addEventListener('input', () => autoResize(ta));
Â  Â  Â  Â Â 
Â  Â  Â  Â  // Init on load
Â  Â  Â  Â  setTimeout(() => autoResize(ta), 0);Â 
Â  Â  });
Â  Â  // ========== DARK MODE TOGGLE ==========
Â  Â  const themeToggle = document.getElementById('theme-toggle');
Â  Â  if (themeToggle) {
Â  Â  Â  Â  themeToggle.addEventListener('click', () => {
Â  Â  Â  Â  Â  Â  document.documentElement.classList.toggle('dark');
Â  Â  Â  Â  Â  Â  const isDark = document.documentElement.classList.contains('dark');
Â  Â  Â  Â  Â  Â  localStorage.setItem('theme', isDark ? 'dark' : 'light');
Â  Â  Â  Â  });
Â  Â  }

Â  Â  // config
Â  Â  const DB_KEY = 'literarni_spravce_db_v4';
Â  Â  const form = document.getElementById('analysis-form');
Â  Â  const listContainer = document.getElementById('list-container');
Â  Â  let db = [];

Â  Â  let importedDataTemp = null;

Â  Â  const uuid = () => {
Â  Â  Â  Â  if (typeof crypto !== 'undefined' && crypto.randomUUID) return crypto.randomUUID();
Â  Â  Â  Â  return Date.now().toString(36) + Math.random().toString(36).substr(2);
Â  Â  };

Â  Â  const initData = () => {
Â  Â  Â  Â  try {
Â  Â  Â  Â  Â  Â  const raw = localStorage.getItem(DB_KEY);
Â  Â  Â  Â  Â  Â  db = JSON.parse(raw || '[]');

Â  Â  Â  Â  Â  Â  let migrated = false;
Â  Â  Â  Â  Â  Â  db = db.map(item => {
Â  Â  Â  Â  Â  Â  Â  Â  if (!item.uid) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  item.uid = uuid();
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  migrated = true;
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  return item;
Â  Â  Â  Â  Â  Â  });

Â  Â  Â  Â  Â  Â  if (migrated) {
Â  Â  Â  Â  Â  Â  Â  Â  saveToDb();
Â  Â  Â  Â  Â  Â  Â  Â  console.log('Migrated legacy data to UUID structure.');
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  } catch (e) {
Â  Â  Â  Â  Â  Â  console.error('Data load error', e);
Â  Â  Â  Â  Â  Â  db = [];
Â  Â  Â  Â  }
Â  Â  };

Â  Â  const saveToDb = () => {
Â  Â  Â  Â  try {
Â  Â  Â  Â  Â  Â  localStorage.setItem(DB_KEY, JSON.stringify(db));
Â  Â  Â  Â  Â  Â  renderList();
Â  Â  Â  Â  } catch (e) { alert('Storage quota exceeded!'); }
Â  Â  };

Â  Â  const renderList = (activeId = null) => {
Â  Â  Â  Â  if (!listContainer) return;

Â  Â  Â  Â  const countEl = document.getElementById('count');
Â  Â  Â  Â  if (countEl) countEl.textContent = db.length;

Â  Â  Â  Â  listContainer.innerHTML = '';

Â  Â  Â  Â  if (!db.length) {
Â  Â  Â  Â  Â  Â  listContainer.innerHTML = '<div class="p-4 text-sm text-slate-400 dark:text-slate-500 text-center">Å½Ã¡dnÃ© uloÅ¾enÃ© rozbory.</div>';
Â  Â  Â  Â  Â  Â  return;
Â  Â  Â  Â  }

Â  Â  Â  Â  const sorted = [...db].sort((a, b) => a.title.localeCompare(b.title));

Â  Â  Â  Â  sorted.forEach((item) => {
Â  Â  Â  Â  Â  Â  const wrapper = document.createElement('div');
Â  Â  Â  Â  Â  Â  wrapper.className = 'list-item p-3 hover:bg-blue-50 dark:hover:bg-slate-700 transition-colors group flex justify-between items-center border-b border-slate-50 dark:border-slate-700 last:border-0';
Â  Â  Â  Â  Â  Â  wrapper.dataset.uid = item.uid;

Â  Â  Â  Â  Â  Â  if (activeId === item.uid) {
Â  Â  Â  Â  Â  Â  Â  Â  wrapper.classList.add('item-active');
Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  const infoDiv = document.createElement('div');
Â  Â  Â  Â  Â  Â  infoDiv.className = 'cursor-pointer flex-1 truncate';
Â  Â  Â  Â  Â  Â  infoDiv.onclick = () => window.loadEntry(item.uid);

Â  Â  Â  Â  Â  Â  const titleEl = document.createElement('div');
Â  Â  Â  Â  Â  Â  titleEl.className = 'font-medium text-slate-800 dark:text-slate-200 truncate';
Â  Â  Â  Â  Â  Â  titleEl.textContent = item.title;

Â  Â  Â  Â  Â  Â  const authorEl = document.createElement('div');
Â  Â  Â  Â  Â  Â  authorEl.className = 'text-xs text-slate-500 dark:text-slate-400 truncate';
Â  Â  Â  Â  Â  Â  authorEl.textContent = item.author;

Â  Â  Â  Â  Â  Â  infoDiv.append(titleEl, authorEl);

Â  Â  Â  Â  Â  Â  const delBtn = document.createElement('button');
Â  Â  Â  Â  Â  Â  delBtn.className = 'opacity-0 group-hover:opacity-100 text-red-400 hover:text-red-600 dark:text-red-500 dark:hover:text-red-400 p-1 ml-2 transition-opacity';
Â  Â  Â  Â  Â  Â  delBtn.title = 'Smazat';
Â  Â  Â  Â  Â  Â  delBtn.innerHTML = '<svg width="16" height="16" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M18 6L6 18M6 6l12 12"></path></svg>';
Â  Â  Â  Â  Â  Â  delBtn.onclick = (e) => {
Â  Â  Â  Â  Â  Â  Â  Â  e.stopPropagation();
Â  Â  Â  Â  Â  Â  Â  Â  window.deleteEntry(item.uid);
Â  Â  Â  Â  Â  Â  };

Â  Â  Â  Â  Â  Â  wrapper.append(infoDiv, delBtn);
Â  Â  Â  Â  Â  Â  listContainer.appendChild(wrapper);
Â  Â  Â  Â  });
Â  Â  };

Â  Â  if (form) {
Â  Â  Â  Â  form.addEventListener('submit', (e) => {
Â  Â  Â  Â  Â  Â  e.preventDefault();
Â  Â  Â  Â  Â  Â  const formData = new FormData(form);
Â  Â  Â  Â  Â  Â  const entry = Object.fromEntries(formData.entries());
Â  Â  Â  Â  Â  Â  const currentId = document.getElementById('entry-id').value;

Â  Â  Â  Â  Â  Â  if (currentId) {
Â  Â  Â  Â  Â  Â  Â  Â  const idx = db.findIndex(item => item.uid === currentId);
Â  Â  Â  Â  Â  Â  Â  Â  if (idx > -1) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  db[idx] = { ...entry, uid: currentId };
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  showToast('AktualizovÃ¡no');
Â  Â  Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  entry.uid = uuid();
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  db.push(entry);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById('entry-id').value = entry.uid;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  showToast('UloÅ¾eno jako novÃ½');
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  entry.uid = uuid();
Â  Â  Â  Â  Â  Â  Â  Â  db.push(entry);
Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById('entry-id').value = entry.uid;
Â  Â  Â  Â  Â  Â  Â  Â  showToast('UloÅ¾eno');
Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  saveToDb();
Â  Â  Â  Â  Â  Â  renderList(document.getElementById('entry-id').value);
Â  Â  Â  Â  });
Â  Â  }

Â  Â  const btnSaveSidebar = document.getElementById('btn-save-sidebar');
Â  Â  if (btnSaveSidebar) {
Â  Â  Â  Â  btnSaveSidebar.addEventListener('click', () => {
Â  Â  Â  Â  Â  Â  if (form) form.requestSubmit();
Â  Â  Â  Â  });
Â  Â  }

Â  Â  window.loadEntry = (uid) => {
Â  Â  Â  Â  const data = db.find(item => item.uid === uid);
Â  Â  Â  Â  if (!data) return showToast('Chyba: PoloÅ¾ka nenalezena');

Â  Â  Â  Â  if (form) {
Â  Â  Â  Â  Â  Â  Object.keys(data).forEach(key => {
Â  Â  Â  Â  Â  Â  Â  Â  const input = form.elements[key];
Â  Â  Â  Â  Â  Â  Â  Â  if (input) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  input.value = data[key];
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (input.tagName === 'TEXTAREA') autoResize(input);
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  });

Â  Â  Â  Â  Â  Â  const entryIdInput = document.getElementById('entry-id');
Â  Â  Â  Â  Â  Â  if (entryIdInput) entryIdInput.value = uid;
Â  Â  Â  Â  }

Â  Â  Â  Â  renderList(uid);
Â  Â  Â  Â  window.scrollTo({ top: 0, behavior: 'smooth' });
Â  Â  };

Â  Â  window.deleteEntry = (uid) => {
Â  Â  Â  Â  if (confirm('Opravdu smazat tento rozbor?')) {
Â  Â  Â  Â  Â  Â  db = db.filter(item => item.uid !== uid);
Â  Â  Â  Â  Â  Â  saveToDb();

Â  Â  Â  Â  Â  Â  const entryIdInput = document.getElementById('entry-id');
Â  Â  Â  Â  Â  Â  if (entryIdInput && entryIdInput.value === uid) {
Â  Â  Â  Â  Â  Â  Â  Â  resetForm();
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }
Â  Â  };

Â  Â  const resetForm = () => {
Â  Â  Â  Â  if (form) form.reset();
Â  Â  Â  Â  document.querySelectorAll('#analysis-form textarea').forEach(ta => autoResize(ta));
Â  Â  Â  Â  const entryIdInput = document.getElementById('entry-id');
Â  Â  Â  Â  if (entryIdInput) entryIdInput.value = '';
Â  Â  Â  Â  renderList(null);
Â  Â  Â  Â  showToast('FormulÃ¡Å™ vyÄiÅ¡tÄ›n');
Â  Â  };

Â  Â  const btnReset = document.getElementById('btn-reset');
Â  Â  if (btnReset) btnReset.onclick = resetForm;

Â  Â  const btnNuke = document.getElementById('btn-nuke');
Â  Â  if (btnNuke) {
Â  Â  Â  Â  btnNuke.onclick = () => {
Â  Â  Â  Â  Â  Â  if (confirm('VAROVÃNÃ: Toto smaÅ¾e VÅ ECHNY uloÅ¾enÃ© rozbory. PokraÄovat?')) {
Â  Â  Â  Â  Â  Â  Â  Â  db = [];
Â  Â  Â  Â  Â  Â  Â  Â  saveToDb();
Â  Â  Â  Â  Â  Â  Â  Â  resetForm();
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  };
Â  Â  }

Â  Â  const importModal = document.getElementById('import-modal');
Â  Â  const btnImportMerge = document.getElementById('btn-import-merge');
Â  Â  const btnImportOverwrite = document.getElementById('btn-import-overwrite');
Â  Â  const btnImportCancel = document.getElementById('btn-import-cancel');

Â  Â  const closeImportModal = () => {
Â  Â  Â  Â  importModal.classList.add('hidden');
Â  Â  Â  Â  importModal.classList.remove('flex');
Â  Â  Â  Â  importedDataTemp = null;
Â  Â  Â  Â  const fileInput = document.getElementById('import-file');
Â  Â  Â  Â  if (fileInput) fileInput.value = '';
Â  Â  };

Â  Â  if (btnImportCancel) btnImportCancel.onclick = closeImportModal;

Â  Â  if (btnImportMerge) {
Â  Â  Â  Â  btnImportMerge.onclick = () => {
Â  Â  Â  Â  Â  Â  if (!importedDataTemp) return;
Â  Â  Â  Â  Â  Â  let added = 0;
Â  Â  Â  Â  Â  Â  importedDataTemp.forEach(newItem => {
Â  Â  Â  Â  Â  Â  Â  Â  if (!db.find(existing => existing.uid === newItem.uid)) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  db.push(newItem);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  added++;
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  saveToDb();
Â  Â  Â  Â  Â  Â  renderList();
Â  Â  Â  Â  Â  Â  showToast(`SlouÄeno. PÅ™idÃ¡no ${added} novÃ½ch.`);
Â  Â  Â  Â  Â  Â  closeImportModal();
Â  Â  Â  Â  };
Â  Â  }

Â  Â  if (btnImportOverwrite) {
Â  Â  Â  Â  btnImportOverwrite.onclick = () => {
Â  Â  Â  Â  Â  Â  if (!importedDataTemp) return;
Â  Â  Â  Â  Â  Â  db = importedDataTemp;
Â  Â  Â  Â  Â  Â  saveToDb();
Â  Â  Â  Â  Â  Â  renderList();
Â  Â  Â  Â  Â  Â  showToast('DatabÃ¡ze kompletnÄ› pÅ™epsÃ¡na.');
Â  Â  Â  Â  Â  Â  closeImportModal();
Â  Â  Â  Â  };
Â  Â  }

Â  Â  const btnBackup = document.getElementById('btn-backup');
Â  Â  if (btnBackup) {
Â  Â  Â  Â  btnBackup.onclick = () => {
Â  Â  Â  Â  Â  Â  if (!db || !db.length) return showToast('Å½Ã¡dnÃ¡ data k zÃ¡loze.');
Â  Â  Â  Â  Â  Â  const dataStr = "data:text/json;charset=utf-8," + encodeURIComponent(JSON.stringify(db));
Â  Â  Â  Â  Â  Â  const downloadAnchorNode = document.createElement('a');
Â  Â  Â  Â  Â  Â  downloadAnchorNode.setAttribute("href", dataStr);
Â  Â  Â  Â  Â  Â  downloadAnchorNode.setAttribute("download", "rozbory_backup_" + new Date().toISOString().slice(0,10) + ".json");
Â  Â  Â  Â  Â  Â  document.body.appendChild(downloadAnchorNode);
Â  Â  Â  Â  Â  Â  downloadAnchorNode.click();
Â  Â  Â  Â  Â  Â  downloadAnchorNode.remove();
Â  Â  Â  Â  Â  Â  showToast('ZÃ¡loha staÅ¾ena');
Â  Â  Â  Â  };
Â  Â  }

Â  Â  const importFile = document.getElementById('import-file');
Â  Â  if (importFile) {
Â  Â  Â  Â  importFile.onchange = (event) => {
Â  Â  Â  Â  Â  Â  const file = event.target.files[0];
Â  Â  Â  Â  Â  Â  if (!file) return;

Â  Â  Â  Â  Â  Â  const reader = new FileReader();
Â  Â  Â  Â  Â  Â  reader.onload = (e) => {
Â  Â  Â  Â  Â  Â  Â  Â  try {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const imported = JSON.parse(e.target.result);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (Array.isArray(imported)) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â if (imported.length > 0 && !imported[0].title) throw new Error("Invalid structure");

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  importedDataTemp = imported;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById('import-count').textContent = imported.length;

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  importModal.classList.remove('hidden');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  importModal.classList.add('flex');

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  alert('Soubor neobsahuje validnÃ­ seznam rozborÅ¯.');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  event.target.value = '';
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  } catch (ex) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  alert('Chyba pÅ™i ÄtenÃ­ souboru. Je to validnÃ­ JSON zÃ¡loha?');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  console.error(ex);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  event.target.value = '';
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  };
Â  Â  Â  Â  Â  Â  reader.readAsText(file);
Â  Â  Â  Â  };
Â  Â  }

Â  Â  // latex generator
Â  Â  const latexMap = {
Â  Â  Â  Â  '\\': '\\textbackslash{}',
Â  Â  Â  Â  '&': '\\&', '%': '\\%', '$': '\\$', '#': '\\#',
Â  Â  Â  Â  '_': '\\_', '{': '\\{', '}': '\\}',
Â  Â  Â  Â  '~': '\\textasciitilde{}', '^': '\\textasciicircum{}',
Â  Â  Â  Â  '\n': '\\newline '
Â  Â  };

Â  Â  const esc = (text) => {
Â  Â  Â  Â  if (!text) return '-';
Â  Â  Â  Â  const sanitized = text.replace(/[^\w\s\d\.,;:!\?\(\)\-\â€“\â€”â€""'/\\&%\$#_{}~^Ã¡ÄÄÃ©Ä›Ã­ÅˆÃ³Å™Å¡Å¥ÃºÅ¯Ã½Å¾ÃÄŒÄÃ‰ÄšÃÅ‡Ã“Å˜Å Å¤ÃšÅ®ÃÅ½Ã¤Ã¶Ã¼ÃŸÃ„Ã–ÃœÄºÄ¾Å¡ÄÅ¥Å¾Ã½Ã¡Ã­Ã©Ã³ÃºÅˆÄÄ½Å ÄŒÅ¤Å½ÃÃÃÃ‰Ã“ÃšÅ‡Ä]/g, '');
Â  Â  Â  Â  return sanitized.replace(/[\\&%\$#_{}~^\n]/g, char => latexMap[char]);
Â  Â  };

Â  Â  const genRow = (label, value) => {
Â  Â  Â  Â  return `\\textbf{${label}:} & \\parbox[t]{10.0cm}{${esc(value)}} \\\\ \n\\midrule\n`;
Â  Â  };

Â  Â  const generateLatex = () => {
Â  Â  Â  Â  if (!db.length) return alert('NemÃ¡m Å¾Ã¡dnÃ¡ data k exportu.');
Â  Â  Â  Â  const sorted = [...db].sort((a, b) => a.title.localeCompare(b.title));

Â  Â  Â  Â  const content = sorted.map(d => `
\\clearpage
\\section*{${esc(d.title)} (${esc(d.author)})}
\\addcontentsline{toc}{section}{${esc(d.title)} (${esc(d.author)})}

\\begin{center}
Â  Â  \\large\\textbf{Charakteristika, analÃ½za a interpretace umÄ›leckÃ©ho textu}
\\end{center}
\\vspace{0.5cm}

% PART I
\\section*{TEXT A JEHO SLOÅ½KY â€“ ÄŒEHO SI V TEXTU VÅ ÃMAT}

\\subsection*{ZÃ¡kladnÃ­ Ãºdaje}
\\begin{tabular}{p{5.5cm} p{10.0cm}}
\\toprule
${genRow('LiterÃ¡rnÃ­ druh a Å¾Ã¡nr', d.kind_genre)}
${genRow('Kontext', d.context)}
\\bottomrule
\\end{tabular}

\\subsection*{Obsah}
\\begin{tabular}{p{5.5cm} p{10.0cm}}
\\toprule
${genRow('TÃ©ma', d.theme)}
\\multicolumn{2}{l}{\\textbf{VÄ›cnÃ½ obsah:}} \\\\ \\midrule
${genRow('Postavy', d.characters)}
${genRow('VypravÄ›Ä / LyrickÃ½ subjekt', d.narrator)}
${genRow('ÄŒasoprostor', d.setting)}
${genRow('DÄ›j/DÄ›nÃ­', d.plot)}
${genRow('MyÅ¡lenkovÃ½ a emoÄnÃ­ obsah', d.thought_content)}
\\bottomrule
\\end{tabular}

\\subsection*{Forma}
\\subsubsection*{Kompozice}
\\begin{tabular}{p{5.5cm} p{10.0cm}}
\\toprule
${genRow('ÄŒlenÄ›nÃ­ textu', d.composition_structure)}
${genRow('SlohovÃ© postupy', d.style_procedures)}
${genRow('KompoziÄnÃ­ postupy', d.composition_procedures)}
${genRow('KompoziÄnÃ­ principy', d.composition_principles)}
\\bottomrule
\\end{tabular}

\\subsubsection*{VÃ½razovÃ© prostÅ™edky}
\\begin{tabular}{p{5.5cm} p{10.0cm}}
\\toprule
${genRow('NeverbÃ¡lnÃ­', d.nonverbal)}
${genRow('VerbÃ¡lnÃ­', d.verbal)}
\\bottomrule
\\end{tabular}

% PART II
\\section*{KOMENTÃÅ˜ â€“ JAK O TEXTU PÅ˜EMÃÅ LET}

\\subsection*{VÃ½klad (Smysl/VÃ½znam)}
${esc(d.interpretation)}

\\subsection*{HodnocenÃ­}
${esc(d.evaluation)}

\\vspace{1cm}
\\rule{\\textwidth}{0.5pt}
`).join('');

Â  Â  Â  Â  const template = `\\documentclass[11pt, a4paper]{article}
\\usepackage[a4paper, top=2.5cm, bottom=2.5cm, left=2cm, right=2cm]{geometry}
\\usepackage{fontspec}
\\usepackage[czech, bidi=basic, provide=*]{babel}
\\babelprovide[import, onchar=ids fonts]{czech}

\\renewcommand{\\familydefault}{\\sfdefault}

\\usepackage{parskip, booktabs, fancyhdr, hyperref}
\\hypersetup{colorlinks=true, linkcolor=blue, urlcolor=cyan, pdftitle={MaturitnÃ­ SbornÃ­k}}
\\pagestyle{fancy} \\fancyhead[L]{\\nouppercase{\\rightmark}} \\fancyhead[R]{\\thepage} \\fancyfoot{}

\\begin{document}
\\begin{titlepage} \\centering \\vspace*{4cm}
{\\Huge \\bfseries MATURITNÃ SOUBOR DÄšL} \\\\[2cm]
{\\Large Charakteristika, analÃ½za a interpretace umÄ›leckÃ©ho textu} \\\\[4cm]
{\\large VygenerovÃ¡no aplikacÃ­ SprÃ¡vce literÃ¡rnÃ­ch rozborÅ¯}
\\end{titlepage}
\\clearpage \\tableofcontents \\clearpage
${content}
\\end{document}`;

Â  Â  Â  Â  const outputCode = document.getElementById('output-code');
Â  Â  Â  Â  if (outputCode) outputCode.value = template;

Â  Â  Â  Â  const modal = document.getElementById('modal');
Â  Â  Â  Â  if (modal) {
Â  Â  Â  Â  Â  Â  const hasAck = localStorage.getItem('latex_ack') === 'true';
Â  Â  Â  Â  Â  Â  const checkbox = document.getElementById('acknowledge-check');
Â  Â  Â  Â  Â  Â  if(checkbox) checkbox.checked = hasAck;
Â  Â  Â  Â  Â  Â  toggleButtons(hasAck);

Â  Â  Â  Â  Â  Â  modal.classList.remove('hidden');
Â  Â  Â  Â  Â  Â  modal.classList.add('flex');
Â  Â  Â  Â  }
Â  Â  };

Â  Â  const toggleButtons = (enabled) => {
Â  Â  Â  Â  const btnCopy = document.getElementById('btn-copy');
Â  Â  Â  Â  const btnOverleaf = document.getElementById('btn-overleaf');
Â  Â  Â  Â  if(btnCopy) btnCopy.disabled = !enabled;
Â  Â  Â  Â  if(btnOverleaf) btnOverleaf.disabled = !enabled;
Â  Â  };

Â  Â  const ackCheckbox = document.getElementById('acknowledge-check');
Â  Â  if(ackCheckbox) {
Â  Â  Â  Â  ackCheckbox.onchange = (e) => {
Â  Â  Â  Â  Â  Â  const checked = e.target.checked;
Â  Â  Â  Â  Â  Â  toggleButtons(checked);
Â  Â  Â  Â  Â  Â  localStorage.setItem('latex_ack', checked ? 'true' : 'false');
Â  Â  Â  Â  };
Â  Â  }

Â  Â  const btnGenerate = document.getElementById('btn-generate');
Â  Â  if (btnGenerate) btnGenerate.onclick = generateLatex;

Â  Â  const showToast = (msg) => {
Â  Â  Â  Â  const isDark = document.documentElement.classList.contains('dark');
Â  Â  Â  Â  const t = document.createElement('div');
Â  Â  Â  Â  t.className = `fixed bottom-4 right-4 ${isDark ? 'bg-slate-700 text-slate-100' : 'bg-slate-800 text-white'} px-4 py-2 rounded shadow-lg z-50 text-sm animate-bounce`;
Â  Â  Â  Â  t.innerText = msg;
Â  Â  Â  Â  document.body.appendChild(t);
Â  Â  Â  Â  setTimeout(() => t.remove(), 2000);
Â  Â  };

Â  Â  const copyToClipboard = async () => {
Â  Â  Â  Â  const txt = document.getElementById('output-code');
Â  Â  Â  Â  if (!txt) return;
Â  Â  Â  Â  txt.select();
Â  Â  Â  Â  try {
Â  Â  Â  Â  Â  Â  await navigator.clipboard.writeText(txt.value);
Â  Â  Â  Â  Â  Â  return true;
Â  Â  Â  Â  } catch (err) {
Â  Â  Â  Â  Â  Â  document.execCommand('copy');
Â  Â  Â  Â  Â  Â  return true;
Â  Â  Â  Â  }
Â  Â  };

Â  Â  const btnCopy = document.getElementById('btn-copy');
Â  Â  if (btnCopy) {
Â  Â  Â  Â  btnCopy.onclick = async () => {
Â  Â  Â  Â  Â  Â  await copyToClipboard();
Â  Â  Â  Â  Â  Â  showToast('ZkopÃ­rovÃ¡no!');
Â  Â  Â  Â  };
Â  Â  }

Â  Â  const btnOverleaf = document.getElementById('btn-overleaf');
Â  Â  if (btnOverleaf) {
Â  Â  Â  Â  btnOverleaf.onclick = async () => {
Â  Â  Â  Â  Â  Â  await copyToClipboard();
Â  Â  Â  Â  Â  Â  showToast('ZkopÃ­rovÃ¡no! OtevÃ­rÃ¡m Overleaf...');
Â  Â  Â  Â  Â  Â  setTimeout(() => {
Â  Â  Â  Â  Â  Â  Â  Â  window.open('https://www.overleaf.com/project', '_blank');
Â  Â  Â  Â  Â  Â  }, 800);
Â  Â  Â  Â  };
Â  Â  }

Â  Â  const btnCloseModal = document.getElementById('btn-close-modal');
Â  Â  if (btnCloseModal) {
Â  Â  Â  Â  btnCloseModal.onclick = () => {
Â  Â  Â  Â  Â  Â  const modal = document.getElementById('modal');
Â  Â  Â  Â  Â  Â  if (modal) {
Â  Â  Â  Â  Â  Â  Â  Â  modal.classList.add('hidden');
Â  Â  Â  Â  Â  Â  Â  Â  modal.classList.remove('flex');
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  };
Â  Â  }

Â  Â  initData();
Â  Â  renderList();
});
</script>
</body>
</html>
